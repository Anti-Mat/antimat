<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ö–∞–±–∏–Ω–µ—Ç ‚Äî –ê–ù–¢–ò–ú–ê–¢</title>
    <link rel="stylesheet" href="style.css">
    <style>
        .dashboard{min-height:100vh;padding:20px;max-width:1200px;margin:0 auto}
        .dash-header{display:flex;justify-content:space-between;align-items:center;padding:20px 0;border-bottom:1px solid rgba(124,58,237,0.2);margin-bottom:30px}
        .dash-logo{font-size:1.5rem;font-weight:800;color:#fff;text-decoration:none}
        .dash-user{display:flex;align-items:center;gap:15px}
        .dash-email{color:#a78bfa;font-size:0.9rem}
        .btn-logout{padding:8px 16px;background:rgba(239,68,68,0.2);border:1px solid rgba(239,68,68,0.3);border-radius:8px;color:#f87171;cursor:pointer;font-size:0.85rem}
        .btn-logout:hover{background:rgba(239,68,68,0.3)}
        .balance-card{background:linear-gradient(135deg,rgba(124,58,237,0.2),rgba(139,92,246,0.1));border:1px solid rgba(124,58,237,0.3);border-radius:16px;padding:30px;margin-bottom:30px;display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:20px}
        .balance-info h2{font-size:1.2rem;color:#d1d5db;margin-bottom:8px}
        .balance-amount{font-size:3rem;font-weight:800;color:#a78bfa}
        .balance-amount span{font-size:1.2rem;color:#9ca3af}
        .btn-buy{padding:14px 32px;background:linear-gradient(135deg,#7c3aed,#6d28d9);border:none;border-radius:12px;color:#fff;font-size:1.1rem;font-weight:600;cursor:pointer;transition:all 0.3s}
        .btn-buy:hover{transform:translateY(-2px);box-shadow:0 8px 25px rgba(124,58,237,0.4)}
        .upload-section,.history-section,.referral-section{background:rgba(15,15,35,0.6);border:1px solid rgba(124,58,237,0.2);border-radius:16px;padding:30px;margin-bottom:30px}
        .upload-section h3,.history-section h3,.referral-section h3{font-size:1.3rem;margin-bottom:20px;color:#fff}
        .upload-zone{border:2px dashed rgba(124,58,237,0.4);border-radius:12px;padding:50px;text-align:center;cursor:pointer;transition:all 0.3s;margin-bottom:20px}
        .upload-zone:hover{border-color:#7c3aed;background:rgba(124,58,237,0.05)}
        .upload-zone.dragover{border-color:#7c3aed;background:rgba(124,58,237,0.1)}
        .upload-icon{font-size:3rem;margin-bottom:10px}
        .upload-text{color:#9ca3af}
        .upload-text span{color:#a78bfa;text-decoration:underline}
        .settings-grid{display:grid;grid-template-columns:1fr 1fr;gap:20px;margin-bottom:20px}
        .setting-group{background:rgba(124,58,237,0.05);border:1px solid rgba(124,58,237,0.15);border-radius:12px;padding:20px}
        .setting-group label{display:block;color:#d1d5db;font-weight:600;margin-bottom:10px}
        .setting-group select,.setting-group input[type="text"],.setting-group textarea{width:100%;padding:10px 14px;background:rgba(0,0,0,0.3);border:1px solid rgba(124,58,237,0.2);border-radius:8px;color:#fff;font-size:0.95rem;outline:none;box-sizing:border-box}
        .setting-group textarea{min-height:80px;resize:vertical;font-family:inherit}
        .lang-options{display:flex;gap:15px;flex-wrap:wrap}
        .lang-option{display:flex;align-items:center;gap:8px;cursor:pointer;color:#d1d5db}
        .lang-option input[type="checkbox"]{accent-color:#7c3aed;width:18px;height:18px}
        .intensity-slider{width:100%;-webkit-appearance:none;height:6px;border-radius:3px;background:rgba(124,58,237,0.3);outline:none;margin-top:10px}
        .intensity-slider::-webkit-slider-thumb{-webkit-appearance:none;width:20px;height:20px;border-radius:50%;background:#7c3aed;cursor:pointer}
        .btn-process{width:100%;padding:16px;background:linear-gradient(135deg,#7c3aed,#6d28d9);border:none;border-radius:12px;color:#fff;font-size:1.1rem;font-weight:700;cursor:pointer;transition:all 0.3s}
        .btn-process:hover{transform:translateY(-2px);box-shadow:0 8px 25px rgba(124,58,237,0.4)}
        .btn-process:disabled{opacity:0.5;cursor:not-allowed;transform:none}
        .history-item{display:flex;justify-content:space-between;align-items:center;padding:15px;border:1px solid rgba(124,58,237,0.1);border-radius:10px;margin-bottom:10px;flex-wrap:wrap;gap:10px}
        .history-name{color:#fff;font-weight:600}
        .history-status{padding:4px 12px;border-radius:20px;font-size:0.8rem;font-weight:600}
        .status-done{background:rgba(34,197,94,0.2);color:#4ade80}
        .status-processing{background:rgba(234,179,8,0.2);color:#facc15}
        .status-error{background:rgba(239,68,68,0.2);color:#f87171}
        .history-empty{text-align:center;color:#6b7280;padding:30px}
        .referral-desc{color:#9ca3af;margin-bottom:20px}
        .referral-link-box{display:flex;gap:10px}
        .referral-link-box input{flex:1;padding:12px;background:rgba(0,0,0,0.3);border:1px solid rgba(124,58,237,0.3);border-radius:8px;color:#a78bfa;font-size:0.9rem}
        .btn-copy{padding:12px 20px;background:rgba(124,58,237,0.2);border:1px solid rgba(124,58,237,0.3);border-radius:8px;color:#a78bfa;cursor:pointer;font-weight:600;text-decoration:none}
        .btn-copy:hover{background:rgba(124,58,237,0.3)}
        .auth-overlay{position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,0.9);display:flex;align-items:center;justify-content:center;z-index:1000}
        .auth-modal{background:linear-gradient(135deg,#1a1a3e,#0f0f23);border:1px solid rgba(124,58,237,0.3);border-radius:20px;padding:40px;width:90%;max-width:420px;text-align:center}
        .auth-modal h2{font-size:1.8rem;margin-bottom:8px;color:#fff}
        .auth-modal p{color:#9ca3af;margin-bottom:30px}
        .auth-input{width:100%;padding:14px 16px;background:rgba(0,0,0,0.3);border:1px solid rgba(124,58,237,0.3);border-radius:10px;color:#fff;font-size:1rem;margin-bottom:12px;outline:none;box-sizing:border-box}
        .auth-input:focus{border-color:#7c3aed}
        .btn-auth{width:100%;padding:14px;background:linear-gradient(135deg,#7c3aed,#6d28d9);border:none;border-radius:10px;color:#fff;font-size:1rem;font-weight:600;cursor:pointer;margin-bottom:12px}
        .auth-switch{color:#9ca3af;font-size:0.9rem}
        .auth-switch a{color:#a78bfa;cursor:pointer;text-decoration:underline}
        .auth-error{color:#f87171;font-size:0.85rem;margin-bottom:10px;display:none}
        .progress-bar{width:100%;height:6px;background:rgba(124,58,237,0.2);border-radius:3px;margin:15px 0;display:none}
        .progress-fill{height:100%;background:#7c3aed;border-radius:3px;width:0%;transition:width 0.3s}
        @media(max-width:768px){.settings-grid{grid-template-columns:1fr}.balance-card{flex-direction:column;text-align:center}}
    </style>
</head>
<body>

<div class="auth-overlay" id="authOverlay">
    <div class="auth-modal">
        <h2 id="authTitle">–í—Ö–æ–¥</h2>
        <p>–í–æ–π–¥–∏—Ç–µ —á—Ç–æ–±—ã –Ω–∞—á–∞—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É –≤–∏–¥–µ–æ</p>
        <div class="auth-error" id="authError"></div>
        <input type="email" class="auth-input" id="authEmail" placeholder="Email">
        <input type="password" class="auth-input" id="authPassword" placeholder="–ü–∞—Ä–æ–ª—å (–º–∏–Ω–∏–º—É–º 6 —Å–∏–º–≤–æ–ª–æ–≤)">
        <button class="btn-auth" id="authBtn" onclick="handleAuth()">–í–æ–π—Ç–∏</button>
        <p class="auth-switch" id="authSwitch">
            –ù–µ—Ç –∞–∫–∫–∞—É–Ω—Ç–∞? <a onclick="toggleAuth()">–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è</a>
        </p>
    </div>
</div>

<div class="dashboard" id="dashboard" style="display:none;">
    <div class="dash-header">
        <a href="/" class="dash-logo">‚ö° –ê–ù–¢–ò–ú–ê–¢</a>
        <div class="dash-user">
            <span class="dash-email" id="userEmail"></span>
            <button class="btn-logout" onclick="logout()">–í—ã–π—Ç–∏</button>
        </div>
    </div>
    <div class="balance-card">
        <div class="balance-info">
            <h2>–í–∞—à –±–∞–ª–∞–Ω—Å</h2>
            <div class="balance-amount"><span id="userCharges">0</span> <span>‚ö° –∑–∞—Ä—è–¥–æ–≤</span></div>
        </div>
        <button class="btn-buy" onclick="window.location.href='/#pricing'">–ö—É–ø–∏—Ç—å –∑–∞—Ä—è–¥—ã</button>
    </div>
    <div class="upload-section">
        <h3>üé¨ –û–±—Ä–∞–±–æ—Ç–∞—Ç—å –≤–∏–¥–µ–æ</h3>
        <div class="upload-zone" id="uploadZone" onclick="document.getElementById('fileInput').click()">
            <div class="upload-icon">üìÅ</div>
            <div class="upload-text">–ü–µ—Ä–µ—Ç–∞—â–∏—Ç–µ –≤–∏–¥–µ–æ —Å—é–¥–∞ –∏–ª–∏ <span>–≤—ã–±–µ—Ä–∏—Ç–µ —Ñ–∞–π–ª</span></div>
            <div style="color:#6b7280;margin-top:8px;font-size:0.85rem">MP4, AVI, MOV, MKV ‚Ä¢ –¥–æ 2 –ì–ë</div>
        </div>
        <input type="file" id="fileInput" accept="video/*" style="display:none" onchange="handleFile(this)">
        <div id="fileInfo" style="display:none;margin-bottom:20px;padding:15px;background:rgba(124,58,237,0.1);border-radius:10px">
            <span id="fileName" style="color:#fff;font-weight:600"></span>
            <span id="fileSize" style="color:#9ca3af;margin-left:10px"></span>
        </div>
        <div class="progress-bar" id="progressBar"><div class="progress-fill" id="progressFill"></div></div>
        <div class="settings-grid">
            <div class="setting-group">
                <label>üåç –Ø–∑—ã–∫ —Ä–µ—á–∏</label>
                <div class="lang-options">
                    <label class="lang-option"><input type="checkbox" id="langRu" checked> –†—É—Å—Å–∫–∏–π</label>
                    <label class="lang-option"><input type="checkbox" id="langEn"> English</label>
                </div>
            </div>
            <div class="setting-group">
                <label>ü§ñ –ú–æ–¥–µ–ª—å —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è</label>
                <select id="modelSelect">
                    <option value="large-v3">Large-v3 (—Ç–æ—á–Ω–µ–µ)</option>
                    <option value="medium">Medium (–±—ã—Å—Ç—Ä–µ–µ)</option>
                </select>
            </div>
            <div class="setting-group">
                <label>üîä –¢–∏–ø –∑–∞–≥–ª—É—à–∫–∏</label>
                <select id="beepType">
                    <option value="beep">–ó–≤—É–∫–æ–≤–æ–π —Å–∏–≥–Ω–∞–ª (–±–∏–ø)</option>
                    <option value="silence">–¢–∏—à–∏–Ω–∞</option>
                    <option value="reverse">–†–µ–≤–µ—Ä—Å –∑–≤—É–∫–∞</option>
                </select>
            </div>
            <div class="setting-group">
                <label>üéöÔ∏è –ò–Ω—Ç–µ–Ω—Å–∏–≤–Ω–æ—Å—Ç—å: <span id="intensityVal">100</span>%</label>
                <input type="range" class="intensity-slider" id="intensitySlider" min="50" max="150" value="100" oninput="document.getElementById('intensityVal').textContent=this.value">
            </div>
            <div class="setting-group">
                <label>‚ûï –°–≤–æ–∏ —Å–ª–æ–≤–∞ –¥–ª—è –∑–∞–≥–ª—É—à–∫–∏</label>
                <textarea id="customWords" placeholder="–í–≤–µ–¥–∏—Ç–µ —Å–ª–æ–≤–∞ —á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é&#10;–ù–∞–ø—Ä–∏–º–µ—Ä: –±–ª–∏–Ω, —á—ë—Ä—Ç, –¥—É—Ä–∞–∫"></textarea>
            </div>
            <div class="setting-group">
                <label>‚úÖ –ë–µ–ª—ã–π —Å–ø–∏—Å–æ–∫ (–ù–ï –∑–∞–≥–ª—É—à–∞—Ç—å)</label>
                <textarea id="whitelistWords" placeholder="–°–ª–æ–≤–∞ –∫–æ—Ç–æ—Ä—ã–µ –ù–ï –Ω—É–∂–Ω–æ –∑–∞–≥–ª—É—à–∞—Ç—å&#10;–ù–∞–ø—Ä–∏–º–µ—Ä: –±–ª–∏–Ω, –∂–µ—Å—Ç—å"></textarea>
            </div>
        </div>
        <button class="btn-process" id="processBtn" onclick="startProcessing()" disabled>‚ö° –û–±—Ä–∞–±–æ—Ç–∞—Ç—å –≤–∏–¥–µ–æ (1 –∑–∞—Ä—è–¥/–º–∏–Ω)</button>
    </div>
    <div class="history-section">
        <h3>üìã –ò—Å—Ç–æ—Ä–∏—è –æ–±—Ä–∞–±–æ—Ç–æ–∫</h3>
        <div id="historyList"><div class="history-empty">–ü–æ–∫–∞ –Ω–µ—Ç –æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã—Ö –≤–∏–¥–µ–æ</div></div>
    </div>
    <div class="referral-section">
        <h3>üéÅ –†–µ—Ñ–µ—Ä–∞–ª—å–Ω–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–∞</h3>
        <p class="referral-desc">–ü—Ä–∏–≥–ª–∞—à–∞–π—Ç–µ –¥—Ä—É–∑–µ–π –∏ –ø–æ–ª—É—á–∞–π—Ç–µ 20% –æ—Ç –∏—Ö –ø–æ–∫—É–ø–æ–∫ –≤ –≤–∏–¥–µ –∑–∞—Ä—è–¥–æ–≤!</p>
        <div class="referral-link-box">
            <input type="text" id="referralLink" readonly>
            <button class="btn-copy" onclick="copyReferral()">üìã –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å</button>
        </div>
    </div>
</div>

<script src="https://unpkg.com/@supabase/supabase-js@2"></script>
<script>
var SUPABASE_URL = 'https://xlifaeppnxpdisjgwaex.supabase.co';
var SUPABASE_KEY = 'sb_publishable_dw0s1Zka29BXoAx6MHlU1g_rAxAoae8';

var sb = window.supabase.createClient(SUPABASE_URL, SUPABASE_KEY);
var currentUser = null;
var isLoginMode = true;
var selectedFile = null;

async function checkAuth() {
    try {
        var result = await sb.auth.getSession();
        if (result.data.session) {
            currentUser = result.data.session.user;
            await ensureUserInDB();
            showDashboard();
        }
    } catch(e) { console.log('Auth check error:', e); }
}

async function handleAuth() {
    var email = document.getElementById('authEmail').value.trim();
    var password = document.getElementById('authPassword').value;
    var errorEl = document.getElementById('authError');
    errorEl.style.display = 'none';
    if (!email || !password) { showError('–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –≤—Å–µ –ø–æ–ª—è'); return; }
    if (password.length < 6) { showError('–ü–∞—Ä–æ–ª—å –º–∏–Ω–∏–º—É–º 6 —Å–∏–º–≤–æ–ª–æ–≤'); return; }
    try {
        var result;
        if (isLoginMode) {
            result = await sb.auth.signInWithPassword({ email: email, password: password });
        } else {
            result = await sb.auth.signUp({ email: email, password: password });
        }
        if (result.error) {
            var msg = result.error.message;
            if (msg === 'Invalid login credentials') msg = '–ù–µ–≤–µ—Ä–Ω—ã–π email –∏–ª–∏ –ø–∞—Ä–æ–ª—å';
            if (msg.includes('already registered')) msg = '–≠—Ç–æ—Ç email —É–∂–µ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω';
            showError(msg);
            return;
        }
        if (!isLoginMode && result.data.user && !result.data.session) {
            showError('–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ—á—Ç—É –¥–ª—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è! üìß');
            document.getElementById('authError').style.color = '#4ade80';
            return;
        }
        currentUser = result.data.user;
        await ensureUserInDB();
        showDashboard();
    } catch(e) { showError('–û—à–∏–±–∫–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è'); }
}

function showError(msg) {
    var el = document.getElementById('authError');
    el.textContent = msg;
    el.style.display = 'block';
    el.style.color = '#f87171';
}

function toggleAuth() {
    isLoginMode = !isLoginMode;
    document.getElementById('authTitle').textContent = isLoginMode ? '–í—Ö–æ–¥' : '–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è';
    document.getElementById('authBtn').textContent = isLoginMode ? '–í–æ–π—Ç–∏' : '–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è';
    document.getElementById('authSwitch').innerHTML = isLoginMode
        ? '–ù–µ—Ç –∞–∫–∫–∞—É–Ω—Ç–∞? <a onclick="toggleAuth()">–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è</a>'
        : '–£–∂–µ –µ—Å—Ç—å –∞–∫–∫–∞—É–Ω—Ç? <a onclick="toggleAuth()">–í–æ–π—Ç–∏</a>';
    document.getElementById('authError').style.display = 'none';
}

async function logout() {
    await sb.auth.signOut();
    currentUser = null;
    document.getElementById('dashboard').style.display = 'none';
    document.getElementById('authOverlay').style.display = 'flex';
}

async function ensureUserInDB() {
    try {
        var check = await sb.from('users').select('*').eq('email', currentUser.email).single();
        if (!check.data) {
            var refCode = 'REF' + Math.random().toString(36).substring(2, 8).toUpperCase();
            await sb.from('users').insert({
                id: currentUser.id,
                email: currentUser.email,
                name: currentUser.user_metadata ? currentUser.user_metadata.full_name || '' : '',
                referral_code: refCode,
                charges: 1
            });
        }
    } catch(e) { console.log('DB error:', e); }
}

async function getUserData() {
    try {
        var result = await sb.from('users').select('*').eq('email', currentUser.email).single();
        return result.data;
    } catch(e) { return null; }
}

async function getHistory() {
    try {
        var result = await sb.from('jobs').select('*').eq('user_id', currentUser.id).order('created_at', { ascending: false }).limit(20);
        return result.data || [];
    } catch(e) { return []; }
}

async function showDashboard() {
    document.getElementById('authOverlay').style.display = 'none';
    document.getElementById('dashboard').style.display = 'block';
    document.getElementById('userEmail').textContent = currentUser.email;
    var userData = await getUserData();
    if (userData) {
        document.getElementById('userCharges').textContent = userData.charges || 0;
        document.getElementById('referralLink').value = 'https://anti-mat.ru?ref=' + (userData.referral_code || '');
    }
    loadHistory();
}

async function loadHistory() {
    var history = await getHistory();
    var container = document.getElementById('historyList');
    if (history.length === 0) {
        container.innerHTML = '<div class="history-empty">–ü–æ–∫–∞ –Ω–µ—Ç –æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã—Ö –≤–∏–¥–µ–æ</div>';
        return;
    }
    var html = '';
    for (var i = 0; i < history.length; i++) {
        var job = history[i];
        var sc = 'status-processing', st = '–û–±—Ä–∞–±–æ—Ç–∫–∞...';
        if (job.status === 'done') { sc = 'status-done'; st = '–ì–æ—Ç–æ–≤–æ'; }
        if (job.status === 'error') { sc = 'status-error'; st = '–û—à–∏–±–∫–∞'; }
        html += '<div class="history-item"><span class="history-name">üé¨ ' + job.file_name + '</span><span class="history-status ' + sc + '">' + st + '</span>';
        if (job.status === 'done') html += '<a href="' + job.result_url + '" class="btn-copy" download>‚¨á –°–∫–∞—á–∞—Ç—å</a>';
        html += '</div>';
    }
    container.innerHTML = html;
}

function handleFile(input) {
    var file = input.files[0];
    if (!file) return;
    selectedFile = file;
    document.getElementById('fileInfo').style.display = 'block';
    document.getElementById('fileName').textContent = file.name;
    document.getElementById('fileSize').textContent = formatSize(file.size);
    document.getElementById('processBtn').disabled = false;
}

function formatSize(bytes) {
    if (bytes < 1024*1024) return (bytes/1024).toFixed(1) + ' –ö–ë';
    if (bytes < 1024*1024*1024) return (bytes/(1024*1024)).toFixed(1) + ' –ú–ë';
    return (bytes/(1024*1024*1024)).toFixed(2) + ' –ì–ë';
}

var uz = document.getElementById('uploadZone');
if (uz) {
    uz.addEventListener('dragover', function(e) { e.preventDefault(); uz.classList.add('dragover'); });
    uz.addEventListener('dragleave', function() { uz.classList.remove('dragover'); });
    uz.addEventListener('drop', function(e) {
        e.preventDefault(); uz.classList.remove('dragover');
        var files = e.dataTransfer.files;
        if (files[0] && files[0].type.indexOf('video') === 0) {
            document.getElementById('fileInput').files = files;
            handleFile(document.getElementById('fileInput'));
        }
    });
}

async function startProcessing() {
    if (!selectedFile || !currentUser) return;
    var userData = await getUserData();
    if (!userData || userData.charges < 1) {
        alert('–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –∑–∞—Ä—è–¥–æ–≤! –ö—É–ø–∏—Ç–µ –Ω–∞ –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ.');
        return;
    }
    var btn = document.getElementById('processBtn');
    btn.disabled = true;
    btn.textContent = '‚è≥ –ó–∞–≥—Ä—É–∑–∫–∞ –≤–∏–¥–µ–æ...';
    document.getElementById('progressBar').style.display = 'block';
    document.getElementById('progressFill').style.width = '30%';
    setTimeout(function() {
        document.getElementById('progressFill').style.width = '60%';
        btn.textContent = 'ü§ñ –û–±—Ä–∞–±–æ—Ç–∫–∞...';
    }, 2000);
    setTimeout(function() {
        document.getElementById('progressFill').style.width = '100%';
        btn.textContent = '‚ö° –û–±—Ä–∞–±–æ—Ç–∞—Ç—å –≤–∏–¥–µ–æ (1 –∑–∞—Ä—è–¥/–º–∏–Ω)';
        btn.disabled = false;
        document.getElementById('progressBar').style.display = 'none';
        alert('–û–±—Ä–∞–±–æ—Ç–∫–∞ –≤–∏–¥–µ–æ –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–∞ –ø–æ—Å–ª–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è GPU —Å–µ—Ä–≤–µ—Ä–∞. –°–µ–π—á–∞—Å —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∫–∞–±–∏–Ω–µ—Ç–∞.');
    }, 5000);
}

function copyReferral() {
    var input = document.getElementById('referralLink');
    input.select();
    navigator.clipboard.writeText(input.value);
    var btn = document.querySelector('.btn-copy');
    btn.textContent = '‚úÖ –°–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–æ!';
    setTimeout(function() { btn.textContent = 'üìã –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å'; }, 2000);
}

checkAuth();
</script>
</body>
</html>
